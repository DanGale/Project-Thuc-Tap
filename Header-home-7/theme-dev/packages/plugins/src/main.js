"use strict";var z=Object.defineProperty;var K=(s,t,e)=>t in s?z(s,t,{enumerable:!0,configurable:!0,writable:!0,value:e}):s[t]=e;var i=(s,t,e)=>(K(s,typeof t!="symbol"?t+"":t,e),e);Object.defineProperties(exports,{__esModule:{value:!0},[Symbol.toStringTag]:{value:"Module"}});const V={get:(s,t)=>s.getAttribute(t)==="false"?!1:s.hasAttribute(t),set:(s,t,e)=>{e?s.setAttribute(t,""):s.removeAttribute(t)}};function G(s,t){throw new Error(`${s}

${t?`Example:
${t}`:""}`)}function J(s,t,e){return Math.min(Math.max(s,t),e)}function A(s,t){for(let e=0;e<s.length;e++)t(s[e],e,s)}const Q=s=>Object.keys(s);function Z(s,t){const e=[];for(let n=0;n<s.length;n++)t(s[n],n,s)&&e.push(s[n]);return e}function tt(s){/comp|inter/.test(document.readyState)?s():"addEventListener"in document?document.addEventListener("DOMContentLoaded",s):document.attachEvent("onreadystatechange",()=>{document.readyState==="complete"&&s()})}function b(s,t){const e=[];for(let n=0;n<s.length;n++)e.push(t(s[n],n,s));return e}function N(s,t,e){let n=e;for(let o=0;o<s.length;o++)n=t(n,s[o],o,s);return n}class et{constructor(){i(this,"frameId");i(this,"keepAliveFrameId");i(this,"lastTimestamp");i(this,"frames");i(this,"keepAliveFrames");i(this,"defaultTimestep");i(this,"handleFrameLoop",t=>{if(this.lastTimestamp){const e=t-this.lastTimestamp;A(this.keepAliveFrames,n=>n.call(this,{delta:e,timestamp:t}))}this.lastTimestamp=t,this.keepAliveFrameId&&cancelAnimationFrame(this.keepAliveFrameId),this.keepAliveFrameId=requestAnimationFrame(this.handleFrameLoop)});i(this,"handleFrame",t=>{A(this.frames,e=>e.call(this,{delta:this.defaultTimestep,timestamp:t}))});i(this,"getFrames",()=>this.frames);i(this,"add",(t,e=!1)=>(this.cancelFrame(),this.frames.includes(t)||this.frames.push(t),e&&!this.keepAliveFrames.includes(t)&&this.keepAliveFrames.push(t),this.start(),this));i(this,"start",()=>{this.frameId=requestAnimationFrame(this.handleFrame),this.keepAliveFrameId=requestAnimationFrame(this.handleFrameLoop)});i(this,"cancelFrame",()=>{this.frameId!=null&&(cancelAnimationFrame(this.frameId),this.frameId=null),this.keepAliveFrameId!=null&&(cancelAnimationFrame(this.keepAliveFrameId),this.keepAliveFrameId=null)});i(this,"stopFrame",(t,e)=>{const n=t.indexOf(e);n!==-1&&t.splice(n,1),t.length===0&&(this.cancelFrame(),this.lastTimestamp=null)});i(this,"remove",t=>(this.stopFrame(this.frames,t),this.stopFrame(this.keepAliveFrames,t),this));i(this,"clear",()=>(this.frames=[],this.keepAliveFrames=[],this.cancelFrame(),this.lastTimestamp=null,this));this.frameId=null,this.keepAliveFrameId=null,this.lastTimestamp=null,this.frames=[],this.keepAliveFrames=[],this.defaultTimestep=1/60*1e3}}const X=new et;function F({inputRange:s,outputRange:t,value:e,easing:n=a=>a,reverseEasing:o=!1,extrapolate:r="extend"}){const a=b(s,(m,g)=>({input:s[g],output:t[g]})).sort((m,g)=>m.input-g.input),c=b(a,({input:m})=>m),d=b(a,({output:m})=>m);if(e<=c[0])return d[0];if(e>=c[c.length-1])return d[d.length-1];let p=0;for(const m of c)m<e&&p++;const f=p-1;let u=(e-c[f])/(c[p]-c[f]);return typeof n=="function"&&(o?u=1-n(1-u):u=n(u)),r==="clamp"&&(u=Math.max(Math.min(u,1),0)),d[f]*(1-u)+d[p]*u}const U={android:!!navigator.userAgent.match(/Android/i),blackBerry:!!navigator.userAgent.match(/BlackBerry/i),ipad:!!navigator.userAgent.match(/iPad/i),iOS:!!navigator.userAgent.match(/iPhone|iPad|iPod/i),opera:!!navigator.userAgent.match(/Opera Mini/i),windows:!!navigator.userAgent.match(/Windows Phone/i),amazonePhone:!!navigator.userAgent.match(/(?:SD4930UR|\\bSilk(?:.+)Mobile\\b)/i),amazoneTablet:!!navigator.userAgent.match(/Silk/i),any:!!navigator.userAgent.match(/Android|BlackBerry|iPhone|iPad|iPod|Opera Mini|Windows Phone|(?:SD4930UR|\bSilk(?:.+)Mobile\b)|Silk/i)};tt(()=>{const s=document.documentElement;U.any?s.classList.add("is-mobile"):s.classList.add("is-desktop")});function st(){let s=!1;const t=()=>{if(!s){s=!0;const o="@xoLocalStorageCheck";try{return window.localStorage.setItem(o,o),window.localStorage.removeItem(o),!0}catch{return!1}}return!0};return(()=>t()?window.localStorage:{getItem(){return null},setItem(){},removeItem(){},clear(){},key(){return null},length:0})()}st();function nt(s,t=0){const e=s.getBoundingClientRect(),n=window.innerHeight||document.documentElement.clientHeight,o=window.innerWidth||document.documentElement.clientWidth,r=e.bottom>=0&&e.right>=0&&e.top<=n&&e.left<=o;return t>0?r||e.top-t<=n&&e.bottom+t>=0||e.left-t<=o&&e.right+t>=0:r}const W=(s,t,e)=>s+(t-s)*e,h="===empty===",it=60,ot=1e3/it,q=0,D=100,E=/(px|%|vh|vw|em|rem|pt|cm|mm|in|pc|ex|ch|vmin|vmax|lh|rlh|vb|vi|svw|svh|lvw|lvh|dvw|dvh|deg)/g;class rt{constructor(t,e,n){i(this,"el");i(this,"defaultStyle");i(this,"options");i(this,"contextOptions");i(this,"currentValue");i(this,"targetValue");i(this,"handleFrameSyncUpdate",({delta:t})=>{const{lerpEase:e}=this.contextOptions;if(Math.abs(this.targetValue-this.currentValue)<.001)return;let o=t/ot;const r=Math.round(o);r>=1&&(o=r);const a=W(this.currentValue,this.targetValue,e*o);this.setStyles(this.el,a),this.currentValue=a});i(this,"destroy",()=>{this.el&&(this.el.style.cssText=this.defaultStyle,X.remove(this.handleFrameSyncUpdate))});this.el=t,this.defaultStyle=this.el.style.cssText,this.options=e,this.contextOptions=n,this.currentValue=0,this.targetValue=0,X.add(this.handleFrameSyncUpdate,!0)}getInputRange(){const{keyframes:t}=this.options;return N(Q(t),(e,n)=>{const o=Number(n.replace("%",""));return isNaN(o)?e:[...e,o]},[]).sort((e,n)=>e-n)}getKeyframesByProp(t){const{keyframes:e}=this.options,n=this.getInputRange();Math.max(...n)>100&&G("Max value of input range must be less than 100%");let o=null;return N(n,(r,a)=>{const c=`${a}%`,d=e[c][t];return d!=null&&r.push(String(d)),o=r[r.length-1],d==null&&o!=null&&r.push(o),r},[])}getDefaultUnit(t){switch(t){case"x":case"y":case"width":case"height":case"backgroundPositionY":return"px";case"rotate":case"rotateX":case"rotateY":case"skew":case"skewX":case"skewY":case"hueRotate":return"deg";case"scale":case"scaleX":case"scaleY":case"opacity":case"videoTime":case"brightness":case"contrast":default:return""}}interpolate(t,e){const n=this.getKeyframesByProp(e),o=String(n[0]).replace(/[0-9.,-]/g,""),r=n.map(c=>Number(String(c).replace(E,"")));return n.length===0?h:`${F({value:t,inputRange:this.getInputRange(),outputRange:r})}${o||this.getDefaultUnit(e)}`}setStyles(t,e){const{setStyles:n}=this.contextOptions,o=this.interpolate(e,"x"),r=this.interpolate(e,"y"),a=this.interpolate(e,"rotate"),c=this.interpolate(e,"rotateX"),d=this.interpolate(e,"rotateY"),p=this.interpolate(e,"scale"),f=this.interpolate(e,"scaleX"),u=this.interpolate(e,"scaleY"),m=this.interpolate(e,"skew"),g=this.interpolate(e,"skewX"),H=this.interpolate(e,"skewY"),T=this.interpolate(e,"opacity"),L=this.interpolate(e,"width"),M=this.interpolate(e,"height"),P=this.interpolate(e,"brightness"),R=this.interpolate(e,"contrast"),$=this.interpolate(e,"hueRotate"),S=this.interpolate(e,"backgroundPositionY"),O=this.interpolate(e,"videoTime"),Y=this.interpolate(e,"groupImg"),w=[];if(t.style.transform=Z([`translateX(${o})`,`translateY(${r})`,`rotate(${a})`,`rotateX(${c})`,`rotateY(${d})`,`scale(${p})`,`scaleX(${f})`,`scaleY(${u})`,`skew(${m})`,`skewX(${g})`,`skewY(${H})`],l=>!!l&&!l.includes(h)).join(" "),L!==h&&(t.style.width=`${L}`),M!==h&&(t.style.height=`${M}`),T!==h&&(t.style.opacity=`${T}`),P!==h&&w.push(`brightness(${P})`),R!==h&&w.push(`contrast(${R})`),$!==h&&w.push(`hue-rotate(${$})`),w.length>0&&(t.style.filter=w.join(" ")),S!==h&&(t.style.backgroundSize="cover",t.style.backgroundPosition="center",U.iOS?t.style.backgroundPosition=`50% calc(${S} * -1)`:(t.style.backgroundAttachment="fixed",t.style.backgroundPosition=`50% ${S}`)),O!==h){const l=t.querySelector("video");if(l&&l.duration){const k=F({value:Number(O.replace(E,"")),inputRange:[0,100],outputRange:[0,l.duration]});l.currentTime=k}}if(Y!==h){window.getComputedStyle(t).position==="static"&&(t.style.position="relative");const l=Array.from(t.querySelectorAll("img")),k=Math.floor(F({value:Number(Y.replace(E,"")),inputRange:[0,100],outputRange:[0,l.length-1]}));A(l,(_,j)=>{_.style.visibility=j===k?"visible":"hidden"})}n&&n({element:t,createValue:l=>this.interpolate(e,l),EMPTY:h})}handleParallax(){const t=window.scrollY-this.getFrom(),e=this.getTo()-this.getFrom(),n=J(t/e*100,q,D);n>=q&&n<=D&&(this.targetValue=n)}getFrom(){const{from:t}=this.options;return typeof t=="function"?t():t}getTo(){const{to:t}=this.options;return typeof t=="function"?t():t}init(){this.handleParallax()}}const I=class{constructor(t){i(this,"options");i(this,"items");i(this,"handlerScroll",()=>{for(const t of this.items)t.init()});i(this,"add",(t,e)=>(this.items.push(new rt(t,e,this.options)),this));i(this,"run",()=>{const{targetElement:t}=this.options;this.handlerScroll(),t.removeEventListener("scroll",this.handlerScroll,!1),t.addEventListener("scroll",this.handlerScroll,!1)});i(this,"destroy",()=>{const{targetElement:t}=this.options;t.removeEventListener("scroll",this.handlerScroll,!1);for(const e of this.items)e.destroy()});this.options={...I.defaultOptions,...t},this.items=[]}};let y=I;i(y,"defaultOptions",{targetElement:window,setStyles:void 0,lerpEase:.08});function at(s={}){return new y(s)}function ct(){window.addEventListener("click",s=>{const t=s.target,n=t.tagName.toLowerCase()==="a"?t:t.closest("a[href]"),o=/\/collections\/|\?page=/g.test((n==null?void 0:n.href)||"");if(n&&!o){const r=n.getAttribute("target")!=="_blank";!document.body.classList.contains("xo-using-high-speed")&&r&&document.body.classList.add("xo-navigate-smooth")}})}const lt=/\/(checkout|cart)/g,B=s=>s&&s!=="#"&&s.startsWith(window.location.origin),C=s=>{document.body.classList.add("xo-navigate-smooth"),window.location.href=s},ht=s=>s instanceof HTMLAnchorElement||!!s.closest("a[href]"),dt=()=>[...Array(100).keys()].map(s=>s/100),x=class{constructor(t){i(this,"linksLoaded",new Set);i(this,"domparser",new DOMParser);i(this,"pages",new Map);i(this,"controllers",new Map);i(this,"anchorEls",Array.from(document.querySelectorAll("a[href]")));i(this,"intersectionObserver");i(this,"frameIds",new Set);i(this,"options");i(this,"setAnchorEls",()=>{this.anchorEls=Array.from(document.querySelectorAll("a[href]"))});i(this,"getHtml",async t=>{const{href:e}=t;if(!this.linksLoaded.has(e)){this.linksLoaded.add(e),this.controllers.set(e,new AbortController);const{signal:n}=this.controllers.get(e);if(!this.pages.has(e))try{const r=await(await fetch(e,{signal:n})).text(),a=this.domparser.parseFromString(r,"text/html");this.pages.set(e,a)}catch{this.linksLoaded.delete(e)}}});i(this,"cancelRequest",t=>{this.controllers.has(t)&&(this.controllers.get(t).abort(),this.linksLoaded.delete(t))});i(this,"navigate",t=>{if(lt.test(t))C(t);else if(B(t)){const{root:e}=this.options;if(this.pages.has(t)&&e){const n=`#${e.id}`,o=this.pages.get(t).querySelector(n);o&&(e.innerHTML=o.innerHTML,window.history.pushState(null,"",t),window.scrollTo(0,0),this.update())}else C(t)}});i(this,"handleWindowClick",async t=>{const e=t.target;if(ht(e)){t.preventDefault();const n=e instanceof HTMLAnchorElement?e:e.closest("a[href]");this.navigate(n.href)}});i(this,"handleIntersection",(t,e)=>{this.frameIds.add(requestAnimationFrame(()=>{const{root:n}=this.options;for(let o=0;o<t.length;o++){const r=t[o].target;r instanceof HTMLAnchorElement&&B(r.href)&&n&&(nt(r)?(V.set(r,"xo-prefetched",!0),e.unobserve(r),this.getHtml(r)):V.get(r,"xo-prefetched")&&this.cancelRequest(r.href))}}))});i(this,"handleAnchorIntersection",()=>{this.frameIds.add(requestAnimationFrame(()=>{this.setAnchorEls(),A(this.anchorEls,t=>{this.intersectionObserver.observe(t)})}))});i(this,"handlePopState",async t=>{t.preventDefault(),this.navigate(window.location.href)});i(this,"update",()=>{this.destroy(),this.init()});i(this,"init",()=>{window.Shopify.designMode||(document.body.classList.contains("xo-navigate-smooth")||document.body.classList.add("xo-using-high-speed"),this.handleAnchorIntersection(),window.addEventListener("scroll",this.handleAnchorIntersection),window.addEventListener("click",this.handleWindowClick),window.addEventListener("popstate",this.handlePopState))});i(this,"destroy",()=>{window.removeEventListener("scroll",this.handleAnchorIntersection),window.removeEventListener("click",this.handleWindowClick),window.removeEventListener("popstate",this.handlePopState),this.intersectionObserver.disconnect(),this.frameIds.forEach(cancelAnimationFrame)});this.options={...x.defaultOptions,...t},this.intersectionObserver=new IntersectionObserver(this.handleIntersection,{root:null,rootMargin:"100px",threshold:dt()}),this.init()}};let v=x;i(v,"defaultOptions",{root:document.querySelector("#xo-main-content")});function ut(s){return new v(s)}exports.ParallaxScroll=y;exports.highSpeed=ut;exports.lerp=W;exports.navigateSmooth=ct;exports.parallaxScroll=at;
